{"ast":null,"code":"export const getVideoThumbnail = path => new Promise(resolve => {\n  const canvas = document.createElement(\"canvas\");\n  const video = document.createElement(\"video\");\n  video.autoplay = true;\n  video.muted = true;\n  video.src = path;\n  video.onloadeddata = () => {\n    const ctx = canvas.getContext(\"2d\");\n    canvas.width = video.videoWidth;\n    canvas.height = video.videoHeight;\n    ctx === null || ctx === void 0 ? void 0 : ctx.drawImage(video, 0, 0, video.videoWidth, video.videoHeight);\n    video.pause();\n    return resolve(canvas.toDataURL(\"image/png\"));\n  };\n});","map":{"version":3,"names":["getVideoThumbnail","path","Promise","resolve","canvas","document","createElement","video","autoplay","muted","src","onloadeddata","ctx","getContext","width","videoWidth","height","videoHeight","drawImage","pause","toDataURL"],"sources":["/Users/admin/project/redichan_frontend/src/util.ts"],"sourcesContent":["\n\n\n\nexport const getVideoThumbnail = (path: string): Promise<string> =>\n  new Promise((resolve) => {\n    const canvas = document.createElement(\"canvas\");\n    const video = document.createElement(\"video\");\n\n    video.autoplay = true;\n    video.muted = true;\n    video.src = path;\n\n    video.onloadeddata = () => {\n      const ctx = canvas.getContext(\"2d\");\n\n      canvas.width = video.videoWidth;\n      canvas.height = video.videoHeight;\n\n      ctx?.drawImage(video, 0, 0, video.videoWidth, video.videoHeight);\n      video.pause();\n      return resolve(canvas.toDataURL(\"image/png\"));\n    };\n  });\n\n\n"],"mappings":"AAIA,OAAO,MAAMA,iBAAiB,GAAIC,IAAY,IAC5C,IAAIC,OAAO,CAAEC,OAAO,IAAK;EACvB,MAAMC,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;EAC/C,MAAMC,KAAK,GAAGF,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;EAE7CC,KAAK,CAACC,QAAQ,GAAG,IAAI;EACrBD,KAAK,CAACE,KAAK,GAAG,IAAI;EAClBF,KAAK,CAACG,GAAG,GAAGT,IAAI;EAEhBM,KAAK,CAACI,YAAY,GAAG,MAAM;IACzB,MAAMC,GAAG,GAAGR,MAAM,CAACS,UAAU,CAAC,IAAI,CAAC;IAEnCT,MAAM,CAACU,KAAK,GAAGP,KAAK,CAACQ,UAAU;IAC/BX,MAAM,CAACY,MAAM,GAAGT,KAAK,CAACU,WAAW;IAEjCL,GAAG,aAAHA,GAAG,uBAAHA,GAAG,CAAEM,SAAS,CAACX,KAAK,EAAE,CAAC,EAAE,CAAC,EAAEA,KAAK,CAACQ,UAAU,EAAER,KAAK,CAACU,WAAW,CAAC;IAChEV,KAAK,CAACY,KAAK,EAAE;IACb,OAAOhB,OAAO,CAACC,MAAM,CAACgB,SAAS,CAAC,WAAW,CAAC,CAAC;EAC/C,CAAC;AACH,CAAC,CAAC"},"metadata":{},"sourceType":"module"}