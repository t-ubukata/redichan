{"ast":null,"code":"'use strict';\n\nconst platformAndArch = require('./platform')();\n\n/* istanbul ignore next */\ntry {\n  module.exports = require(`../build/Release/sharp-${platformAndArch}.node`);\n} catch (err) {\n  // Bail early if bindings aren't available\n  const help = ['', 'Something went wrong installing the \"sharp\" module', '', err.message, '', 'Possible solutions:'];\n  if (/dylib/.test(err.message) && /Incompatible library version/.test(err.message)) {\n    help.push('- Update Homebrew: \"brew update && brew upgrade vips\"');\n  } else {\n    const [platform, arch] = platformAndArch.split('-');\n    if (platform === 'linux' && /Module did not self-register/.test(err.message)) {\n      help.push('- Using worker threads? See https://sharp.pixelplumbing.com/install#worker-threads');\n    }\n    help.push('- Install with verbose logging and look for errors: \"npm install --ignore-scripts=false --foreground-scripts --verbose sharp\"', `- Install for the current ${platformAndArch} runtime: \"npm install --platform=${platform} --arch=${arch} sharp\"`);\n  }\n  help.push('- Consult the installation documentation: https://sharp.pixelplumbing.com/install');\n  // Check loaded\n  if (process.platform === 'win32' || /symbol/.test(err.message)) {\n    const loadedModule = Object.keys(require.cache).find(i => /[\\\\/]build[\\\\/]Release[\\\\/]sharp(.*)\\.node$/.test(i));\n    if (loadedModule) {\n      const [, loadedPackage] = loadedModule.match(/node_modules[\\\\/]([^\\\\/]+)[\\\\/]/);\n      help.push(`- Ensure the version of sharp aligns with the ${loadedPackage} package: \"npm ls sharp\"`);\n    }\n  }\n  throw new Error(help.join('\\n'));\n}","map":{"version":3,"names":["platformAndArch","require","module","exports","err","help","message","test","push","platform","arch","split","process","loadedModule","Object","keys","cache","find","i","loadedPackage","match","Error","join"],"sources":["/Users/admin/project/redichan_frontend/node_modules/sharp/lib/sharp.js"],"sourcesContent":["'use strict';\n\nconst platformAndArch = require('./platform')();\n\n/* istanbul ignore next */\ntry {\n  module.exports = require(`../build/Release/sharp-${platformAndArch}.node`);\n} catch (err) {\n  // Bail early if bindings aren't available\n  const help = ['', 'Something went wrong installing the \"sharp\" module', '', err.message, '', 'Possible solutions:'];\n  if (/dylib/.test(err.message) && /Incompatible library version/.test(err.message)) {\n    help.push('- Update Homebrew: \"brew update && brew upgrade vips\"');\n  } else {\n    const [platform, arch] = platformAndArch.split('-');\n    if (platform === 'linux' && /Module did not self-register/.test(err.message)) {\n      help.push('- Using worker threads? See https://sharp.pixelplumbing.com/install#worker-threads');\n    }\n    help.push(\n      '- Install with verbose logging and look for errors: \"npm install --ignore-scripts=false --foreground-scripts --verbose sharp\"',\n      `- Install for the current ${platformAndArch} runtime: \"npm install --platform=${platform} --arch=${arch} sharp\"`\n    );\n  }\n  help.push(\n    '- Consult the installation documentation: https://sharp.pixelplumbing.com/install'\n  );\n  // Check loaded\n  if (process.platform === 'win32' || /symbol/.test(err.message)) {\n    const loadedModule = Object.keys(require.cache).find((i) => /[\\\\/]build[\\\\/]Release[\\\\/]sharp(.*)\\.node$/.test(i));\n    if (loadedModule) {\n      const [, loadedPackage] = loadedModule.match(/node_modules[\\\\/]([^\\\\/]+)[\\\\/]/);\n      help.push(`- Ensure the version of sharp aligns with the ${loadedPackage} package: \"npm ls sharp\"`);\n    }\n  }\n  throw new Error(help.join('\\n'));\n}\n"],"mappings":"AAAA,YAAY;;AAEZ,MAAMA,eAAe,GAAGC,OAAO,CAAC,YAAY,CAAC,EAAE;;AAE/C;AACA,IAAI;EACFC,MAAM,CAACC,OAAO,GAAGF,OAAO,CAAE,0BAAyBD,eAAgB,OAAM,CAAC;AAC5E,CAAC,CAAC,OAAOI,GAAG,EAAE;EACZ;EACA,MAAMC,IAAI,GAAG,CAAC,EAAE,EAAE,oDAAoD,EAAE,EAAE,EAAED,GAAG,CAACE,OAAO,EAAE,EAAE,EAAE,qBAAqB,CAAC;EACnH,IAAI,OAAO,CAACC,IAAI,CAACH,GAAG,CAACE,OAAO,CAAC,IAAI,8BAA8B,CAACC,IAAI,CAACH,GAAG,CAACE,OAAO,CAAC,EAAE;IACjFD,IAAI,CAACG,IAAI,CAAC,uDAAuD,CAAC;EACpE,CAAC,MAAM;IACL,MAAM,CAACC,QAAQ,EAAEC,IAAI,CAAC,GAAGV,eAAe,CAACW,KAAK,CAAC,GAAG,CAAC;IACnD,IAAIF,QAAQ,KAAK,OAAO,IAAI,8BAA8B,CAACF,IAAI,CAACH,GAAG,CAACE,OAAO,CAAC,EAAE;MAC5ED,IAAI,CAACG,IAAI,CAAC,oFAAoF,CAAC;IACjG;IACAH,IAAI,CAACG,IAAI,CACP,+HAA+H,EAC9H,6BAA4BR,eAAgB,qCAAoCS,QAAS,WAAUC,IAAK,SAAQ,CAClH;EACH;EACAL,IAAI,CAACG,IAAI,CACP,mFAAmF,CACpF;EACD;EACA,IAAII,OAAO,CAACH,QAAQ,KAAK,OAAO,IAAI,QAAQ,CAACF,IAAI,CAACH,GAAG,CAACE,OAAO,CAAC,EAAE;IAC9D,MAAMO,YAAY,GAAGC,MAAM,CAACC,IAAI,CAACd,OAAO,CAACe,KAAK,CAAC,CAACC,IAAI,CAAEC,CAAC,IAAK,6CAA6C,CAACX,IAAI,CAACW,CAAC,CAAC,CAAC;IAClH,IAAIL,YAAY,EAAE;MAChB,MAAM,GAAGM,aAAa,CAAC,GAAGN,YAAY,CAACO,KAAK,CAAC,iCAAiC,CAAC;MAC/Ef,IAAI,CAACG,IAAI,CAAE,iDAAgDW,aAAc,0BAAyB,CAAC;IACrG;EACF;EACA,MAAM,IAAIE,KAAK,CAAChB,IAAI,CAACiB,IAAI,CAAC,IAAI,CAAC,CAAC;AAClC"},"metadata":{},"sourceType":"script"}